<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DAPSI(W)R(M) Framework Cycle</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 20px;
        }
        .container {
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            max-width: 900px;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 28px;
        }
        .subtitle {
            text-align: center;
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 14px;
        }
        svg {
            width: 100%;
            height: auto;
            display: block;
        }
        .element-circle {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .element-circle:hover {
            filter: brightness(1.1);
            transform: scale(1.05);
        }
        .forward-arrow {
            stroke: #3498db;
            stroke-width: 3;
            fill: none;
            marker-end: url(#arrowhead-forward);
        }
        .feedback-arrow {
            stroke: #e74c3c;
            stroke-width: 2.5;
            fill: none;
            stroke-dasharray: 5, 5;
            marker-end: url(#arrowhead-feedback);
        }
        .element-text {
            font-weight: 600;
            font-size: 16px;
            text-anchor: middle;
            fill: white;
            pointer-events: none;
        }
        .element-subtext {
            font-size: 11px;
            text-anchor: middle;
            fill: white;
            opacity: 0.9;
            pointer-events: none;
        }
        .legend {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 40px;
            flex-wrap: wrap;
        }
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 14px;
            color: #2c3e50;
        }
        .legend-line {
            width: 40px;
            height: 3px;
        }
        .legend-line.forward {
            background: #3498db;
        }
        .legend-line.feedback {
            background: #e74c3c;
            background-image: repeating-linear-gradient(
                90deg,
                #e74c3c,
                #e74c3c 5px,
                transparent 5px,
                transparent 10px
            );
        }
        .description {
            margin-top: 25px;
            padding: 20px;
            background: #ecf0f1;
            border-radius: 10px;
            font-size: 14px;
            line-height: 1.8;
            color: #34495e;
        }
        .description strong {
            color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>DAPSI(W)R(M) Framework Cycle</h1>
        <p class="subtitle">Valid Transitions in the Social-Ecological System Framework</p>

        <svg viewBox="0 0 800 800" xmlns="http://www.w3.org/2000/svg">
            <!-- Define arrow markers -->
            <defs>
                <!-- Forward arrow -->
                <marker id="arrowhead-forward" markerWidth="10" markerHeight="10"
                        refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#3498db" />
                </marker>

                <!-- Feedback arrow -->
                <marker id="arrowhead-feedback" markerWidth="10" markerHeight="10"
                        refX="9" refY="3" orient="auto">
                    <polygon points="0 0, 10 3, 0 6" fill="#e74c3c" />
                </marker>

                <!-- Glow filters for elements -->
                <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
                    <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
                    <feMerge>
                        <feMergeNode in="coloredBlur"/>
                        <feMergeNode in="SourceGraphic"/>
                    </feMerge>
                </filter>
            </defs>

            <!-- Calculate positions for 7 elements in a circle -->
            <!-- Center: (400, 400), Radius: 250 -->

            <!-- Forward path arrows (main cycle) -->
            <!-- Drivers → Activities -->
            <path class="forward-arrow" d="M 400 150 Q 420 180 440 205" />

            <!-- Activities → Pressures -->
            <path class="forward-arrow" d="M 610 253 Q 640 280 653 315" />

            <!-- Pressures → States (MPF) -->
            <path class="forward-arrow" d="M 677 485 Q 680 520 667 555" />

            <!-- States → Impacts (ES) -->
            <path class="forward-arrow" d="M 540 665 Q 510 685 475 695" />

            <!-- Impacts → Welfare (GB) -->
            <path class="forward-arrow" d="M 325 695 Q 290 685 260 665" />

            <!-- Welfare → Responses -->
            <path class="forward-arrow" d="M 123 555 Q 110 520 107 485" />

            <!-- Responses → Drivers (feedback) -->
            <path class="feedback-arrow" d="M 147 315 Q 120 240 150 180 Q 200 120 270 105 Q 330 95 380 110" />

            <!-- Responses → Activities (feedback) -->
            <path class="feedback-arrow" d="M 190 253 Q 280 180 380 160 Q 450 155 500 190" />

            <!-- Responses → Pressures (feedback) -->
            <path class="feedback-arrow" d="M 190 370 Q 300 320 450 320 Q 550 330 600 350" />

            <!-- DAPSIWRM Elements as circles with text -->

            <!-- 1. Drivers (Top, 12 o'clock) -->
            <g class="element-circle">
                <circle cx="400" cy="130" r="70" fill="#9b59b6" filter="url(#glow)" />
                <text x="400" y="125" class="element-text">Drivers</text>
                <text x="400" y="142" class="element-subtext">(D)</text>
            </g>

            <!-- 2. Activities (Top-right, ~2 o'clock) -->
            <g class="element-circle">
                <circle cx="580" cy="233" r="70" fill="#3498db" filter="url(#glow)" />
                <text x="580" y="228" class="element-text">Activities</text>
                <text x="580" y="245" class="element-subtext">(A)</text>
            </g>

            <!-- 3. Pressures (Right, ~4 o'clock) -->
            <g class="element-circle">
                <circle cx="670" cy="400" r="70" fill="#e67e22" filter="url(#glow)" />
                <text x="670" y="395" class="element-text">Pressures</text>
                <text x="670" y="412" class="element-subtext">(P)</text>
            </g>

            <!-- 4. States/MPF (Bottom-right, ~5 o'clock) -->
            <g class="element-circle">
                <circle cx="580" cy="567" r="70" fill="#16a085" filter="url(#glow)" />
                <text x="580" y="557" class="element-text">States</text>
                <text x="580" y="572" class="element-subtext">Marine Processes</text>
                <text x="580" y="585" class="element-subtext">(S)</text>
            </g>

            <!-- 5. Impacts/ES (Bottom, ~7 o'clock) -->
            <g class="element-circle">
                <circle cx="400" cy="670" r="70" fill="#27ae60" filter="url(#glow)" />
                <text x="400" y="660" class="element-text">Impacts</text>
                <text x="400" y="675" class="element-subtext">Ecosystem Services</text>
                <text x="400" y="688" class="element-subtext">(I)</text>
            </g>

            <!-- 6. Welfare/GB (Bottom-left, ~8 o'clock) -->
            <g class="element-circle">
                <circle cx="220" cy="567" r="70" fill="#f39c12" filter="url(#glow)" />
                <text x="220" y="557" class="element-text">Welfare</text>
                <text x="220" y="572" class="element-subtext">Goods & Benefits</text>
                <text x="220" y="585" class="element-subtext">(W)</text>
            </g>

            <!-- 7. Responses (Left, ~10 o'clock) -->
            <g class="element-circle">
                <circle cx="130" cy="400" r="70" fill="#e74c3c" filter="url(#glow)" />
                <text x="130" y="390" class="element-text">Responses</text>
                <text x="130" y="405" class="element-subtext">Management</text>
                <text x="130" y="418" class="element-subtext">(R/M)</text>
            </g>

            <!-- Center label -->
            <g>
                <text x="400" y="390" style="text-anchor: middle; font-size: 20px; font-weight: bold; fill: #2c3e50;">
                    DAPSI(W)R(M)
                </text>
                <text x="400" y="410" style="text-anchor: middle; font-size: 12px; fill: #7f8c8d;">
                    Framework Cycle
                </text>
            </g>
        </svg>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-line forward"></div>
                <span>Forward Path (Main Cycle)</span>
            </div>
            <div class="legend-item">
                <div class="legend-line feedback"></div>
                <span>Feedback Loops (Management)</span>
            </div>
        </div>

        <div class="description">
            <strong>How to Read This Diagram:</strong><br>
            • <strong>Blue solid arrows</strong> show the main forward pathway through the system<br>
            • <strong>Red dashed arrows</strong> show how management responses create feedback loops<br>
            • The cycle flows clockwise from Drivers through to Responses<br>
            • Responses can intervene at three points: Drivers (policy), Activities (regulation), or Pressures (mitigation)<br>
            • This creates opportunities for management intervention at different stages of the system
        </div>
    </div>
</body>
</html>
